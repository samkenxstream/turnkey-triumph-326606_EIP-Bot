{"version":3,"file":"require_pr.js","sourceRoot":"","sources":["../../../../src/modules/assertions/require_pr.ts"],"names":[],"mappings":";;;AAAA,6CAAiD;AAEjD,sDAAsD;AACtD,qCAAmC;AAE5B,MAAM,SAAS,GAAG,KAAK,IAAiB,EAAE;IAC/C,MAAM,KAAK,GAAG,IAAA,8BAAiB,GAAE,CAAC;IAClC,MAAM,EAAE,GAAG,MAAM,cAAM,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;IAExD,IAAI,EAAE,CAAC,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE;QACvD,MAAM,IAAI,0BAAa,CAAC,MAAM,KAAK,8BAA8B,CAAC,CAAC;KACpE;IAED,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC;AATW,QAAA,SAAS,aASpB","sourcesContent":["import { requirePullNumber } from \"#/assertions\";\nimport { PR } from \"src/domain\";\nimport { CriticalError } from \"src/domain/exceptions\";\nimport { github } from \"src/infra\";\n\nexport const requirePr = async (): Promise<PR> => {\n  const prNum = requirePullNumber();\n  const pr = await github.getPullRequestFromNumber(prNum);\n\n  if (pr.merged && process.env.NODE_ENV !== \"development\") {\n    throw new CriticalError(`PR ${prNum} is already merged; quitting`);\n  }\n\n  return pr;\n};\n"]}